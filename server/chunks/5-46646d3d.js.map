{"version":3,"file":"5-46646d3d.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/admin/accounts/_id_/_page.server.js","../../../.svelte-kit/adapter-node/nodes/5.js"],"sourcesContent":["import { f as fail } from \"../../../../../chunks/index.js\";\nasync function load({ params }) {\n  const accountsURL = `http://localhost:5000/accounts/${params.id}`;\n  console.log(accountsURL);\n  const response = await fetch(accountsURL);\n  console.log(response);\n  const data = await response.json();\n  console.log(JSON.stringify(data));\n  const accountSettingsURL = `http://localhost:5000/settings/${params.id}`;\n  const settingsRespone = await fetch(accountSettingsURL);\n  const settingsData = await settingsRespone.json();\n  console.log(settingsData);\n  return {\n    details: data,\n    settings: settingsData\n  };\n}\nconst actions = {\n  details: async ({ request }) => {\n    const data = await request.formData();\n    let accountDeailsObject = Object.fromEntries(data);\n    let accountID = accountDeailsObject.id;\n    delete accountDeailsObject.id;\n    delete accountDeailsObject.client_id;\n    console.log(\"accountDeailsObject\", accountDeailsObject);\n    const accountURL = `http://localhost:5000/accounts/${accountID}`;\n    console.log(\"accountURL\", accountURL);\n    const response = await fetch(accountURL, {\n      method: \"PATCH\",\n      credentials: \"include\",\n      body: JSON.stringify(accountDeailsObject),\n      headers: {\n        \"Accept\": \"application/json\",\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    console.log(\"response.status\", response.status);\n    if (response.status != 200)\n      return fail(400, { error: true });\n    return { success: true };\n  },\n  settings: async ({ request }) => {\n    const data = await request.formData();\n    let accountSettingsObject = Object.fromEntries(data);\n    let access_token_found = false;\n    let account_remote_id = \"\";\n    let changes_list = [];\n    for (const key in accountSettingsObject) {\n      let accessTokenIndex = key.indexOf(\"_ACCESS_TOKEN\");\n      if (accessTokenIndex > 0) {\n        access_token_found = true;\n        account_remote_id = key.substring(0, accessTokenIndex);\n        console.log(account_remote_id);\n      }\n      const settingsObject2 = {\n        name: key,\n        value: accountSettingsObject[key]\n      };\n      changes_list.push(settingsObject2);\n    }\n    if (!access_token_found)\n      return fail(400, { error: true });\n    const settingsObject = [{\n      \"system\": \"mapig\",\n      \"account_changes_list\": [\n        {\n          \"account_name\": account_remote_id,\n          \"changes_list\": changes_list\n        }\n      ]\n    }];\n    const settingsURL = \"http://localhost:5000/settings/update\";\n    console.log(\"settingsURL\", settingsURL);\n    const response = await fetch(settingsURL, {\n      method: \"PATCH\",\n      credentials: \"include\",\n      body: JSON.stringify(settingsObject),\n      headers: {\n        \"Accept\": \"application/json\",\n        \"Content-Type\": \"application/json\"\n      }\n    });\n    console.log(\"response.status\", response.status);\n    if (response.status != 200)\n      return fail(400, { error: true });\n    return { success: true };\n  }\n};\nexport {\n  actions,\n  load\n};\n","import * as server from '../entries/pages/admin/accounts/_id_/_page.server.js';\n\nexport const index = 5;\nlet component_cache;\nexport const component = async () => component_cache ??= (await import('../entries/pages/admin/accounts/_id_/_page.svelte.js')).default;\nexport { server };\nexport const server_id = \"src/routes/admin/accounts/[id]/+page.server.js\";\nexport const imports = [\"_app/immutable/nodes/5.f2b951fc.js\",\"_app/immutable/chunks/scheduler.4d9ffb5c.js\",\"_app/immutable/chunks/index.8b03849b.js\",\"_app/immutable/chunks/CardBody.78fc5215.js\",\"_app/immutable/chunks/Offcanvas.svelte_svelte_type_style_lang.16b74d56.js\",\"_app/immutable/chunks/FormGroup.ba302457.js\",\"_app/immutable/chunks/Row.1aac05f8.js\"];\nexport const stylesheets = [\"_app/immutable/assets/5.f8de4f45.css\",\"_app/immutable/assets/Offcanvas.60614438.css\"];\nexport const fonts = [];\n"],"names":[],"mappings":"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"}